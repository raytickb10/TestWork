-- Brian Raytick
-- CSCI 3700
-- Homework 3

DROP TABLE Student, Class, Instructor, Enrolls, Teaches;

CREATE TABLE Student
(
  student_id varchar(255) NOT NULL PRIMARY KEY,
  student_name varchar(255),
  major varchar(255),
  gpa double
);

CREATE TABLE Class
(
  schedule_num int NOT NULL,
  semester varchar(255) NOT NULL,
  course_name varchar(255),
  course_number varchar(255),
  credit int,
  department varchar(255),
  meeting_time varchar(255),
  meeting_place varchar(255),
  class_size_limit int,
  CONSTRAINT pk_schedule PRIMARY KEY(schedule_num, semester)
);

CREATE TABLE Instructor
(
  name varchar(255) NOT NULL PRIMARY KEY,
  department varchar(255),
  office varchar(255),
  title varchar(255)
);

CREATE TABLE Enrolls
(
  student_id varchar(255) FOREIGN KEY REFERENCES Student(student_id),
  schedule_num int,
  semester varchar(255),
  grade varchar(255),
  CONSTRAINT fk_perClass FOREIGN KEY(schedule_num, semester),
  REFERENCES Class(schedule_num, semester)
);

CREATE TABLE Teaches
(
  name varchar(255) FOREIGN KEY REFERENCES Instructor(name),
  schedule_num int,
  semester varchar(255),
  CONSTRAINT fk_PerClass FOREIGN KEY(schedule_num, semester),
  REFERENCES Class(schedule_num, semester)
);

INSERT INTO Student(student_id, student_name, major, gpa)
Values (B00369122, "John Smith", "Computer Science", 3.1),
       (B00567132, "Michael Jones", "Math", 2.8),
       (B00259156, "Lindsay Bluth", "English", 3.5)

INSERT INTO Class(schedule_num, semester, course_name, course_number, credit, department, meeting_time, meeting_place, class_size_limit)
Values (schedule_num, semester, course_name, course_number, credit, department, meeting_time, meeting_place, class_size_limit),
       (schedule_num, semester, course_name, course_number, credit, department, meeting_time, meeting_place, class_size_limit),
       (schedule_num, semester, course_name, course_number, credit, department, meeting_time, meeting_place, class_size_limit)

INSERT INTO Instructor(name, department, office, title)
Values (name, department, office, title),
       (name, department, office, title),
       (name, department, office, title)

INSERT INTO Enrolls(student_id, schedule_num, semester, grade)
Values (student_id, schedule_num, semester, grade),
       (student_id, schedule_num, semester, grade),
       (student_id, schedule_num, semester, grade),
       (student_id, schedule_num, semester, grade),
       (student_id, schedule_num, semester, grade)

INSERT INTO Teaches(name, schedule_num, semester)
Values (name, schedule_num, semester),
       (name, schedule_num, semester),
       (name, schedule_num, semester),
       (name, schedule_num, semester),
       (name, schedule_num, semester)
